{"version":3,"file":"maps.bundle.js","sources":["../../src/components/searchBox/createSearchBox.js","../../src/components/searchBox/searchBox.js","../../node_modules/clusterize.js/clusterize.js","../../src/components/map/svgMarker.js","../../src/components/map/options.js","../../src/components/buildList/buildList.js","../../src/components/fetchData/checkData.js","../../src/components/fetchData/fetchData.js","../../src/components/map/createMap.js","../../src/components/map/defineCenter.js","../../src/components/map/map.js"],"sourcesContent":["const createSearchBox = (map) => {\n\tlet localMap = map;\n\t// Create search box and link it to UI\n\tconst input = document.getElementById('pac-input');\n\tlocalMap.controls[google.maps.ControlPosition.TOP_LEFT].push(input);\n\tconst searchBox = new google.maps.places.SearchBox(input);\n\n\treturn searchBox;\n};\n\nexport default createSearchBox;\n","const searchBox = (map, places, sBox, placeMarkers, icon, setIcon) => {\n\n\t// Bias searchbox results towards current map's viewport\n\tmap.addListener('bounds_changed', function() {\n\t\tsBox.setBounds(map.getBounds());\n\t});\n\n\t// Listen for the event fired when the user selects a prediction and retrieve\n\t// more details for that place.\n\tsBox.addListener('places_changed', function() {\n\t\tplaces = sBox.getPlaces();\n\t\tif (places.length == 0) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Clear out the old markers.\n\t\tplaceMarkers.forEach(function(marker) {\n\t\t\tmarker.setMap(null);\n\t\t});\n\t\tplaceMarkers = [];\n\n\t\t// For each place, get the icon, name and location.\n\t\tlet bounds = new google.maps.LatLngBounds();\n\t\tplaces.forEach(function(place) {\n\t\t\tif (!place.geometry) {\n\t\t\t\tconsole.log(\"Returned place contains no geometry\");\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet newIcon = {\n\t\t\t\turl: place.icon,\n\t\t\t\tsize: icon.size,\n\t\t\t\torigin: icon.origin,\n\t\t\t\tanchor: icon.anchor,\n\t\t\t\tscaledSize: icon.scaledSize\n\t\t\t};\n\n\t\t\tlet placeIcon = setIcon(newIcon);\n\n\t\t\tplaceMarkers.push(new google.maps.Marker({\n\t\t\t\tmap: map,\n\t\t\t\ticon: placeIcon,\n\t\t\t\ttitle: place.name,\n\t\t\t\tposition: place.geometry.location,\n\t\t\t\tsetMap: map\n\t\t\t}));\n\n\t\t\tif (place.geometry.viewport) {\n\t\t\t\t// Only geocodes have viewport.\n\t\t\t\tbounds.union(place.geometry.viewport);\n\t\t\t} else {\n\t\t\t\tbounds.extend(place.geometry.location);\n\t\t\t}\n\t\t});\n\t\tmap.fitBounds(bounds);\n\t});\n};\nexport default searchBox;\n","/*! Clusterize.js - v0.17.6 - 2017-03-05\n* http://NeXTs.github.com/Clusterize.js/\n* Copyright (c) 2015 Denis Lukov; Licensed GPLv3 */\n\n;(function(name, definition) {\n    if (typeof module != 'undefined') module.exports = definition();\n    else if (typeof define == 'function' && typeof define.amd == 'object') define(definition);\n    else this[name] = definition();\n}('Clusterize', function() {\n  \"use strict\"\n\n  // detect ie9 and lower\n  // https://gist.github.com/padolsey/527683#comment-786682\n  var ie = (function(){\n    for( var v = 3,\n             el = document.createElement('b'),\n             all = el.all || [];\n         el.innerHTML = '<!--[if gt IE ' + (++v) + ']><i><![endif]-->',\n         all[0];\n       ){}\n    return v > 4 ? v : document.documentMode;\n  }()),\n  is_mac = navigator.platform.toLowerCase().indexOf('mac') + 1;\n  var Clusterize = function(data) {\n    if( ! (this instanceof Clusterize))\n      return new Clusterize(data);\n    var self = this;\n\n    var defaults = {\n      rows_in_block: 50,\n      blocks_in_cluster: 4,\n      tag: null,\n      show_no_data_row: true,\n      no_data_class: 'clusterize-no-data',\n      no_data_text: 'No data',\n      keep_parity: true,\n      callbacks: {}\n    }\n\n    // public parameters\n    self.options = {};\n    var options = ['rows_in_block', 'blocks_in_cluster', 'show_no_data_row', 'no_data_class', 'no_data_text', 'keep_parity', 'tag', 'callbacks'];\n    for(var i = 0, option; option = options[i]; i++) {\n      self.options[option] = typeof data[option] != 'undefined' && data[option] != null\n        ? data[option]\n        : defaults[option];\n    }\n\n    var elems = ['scroll', 'content'];\n    for(var i = 0, elem; elem = elems[i]; i++) {\n      self[elem + '_elem'] = data[elem + 'Id']\n        ? document.getElementById(data[elem + 'Id'])\n        : data[elem + 'Elem'];\n      if( ! self[elem + '_elem'])\n        throw new Error(\"Error! Could not find \" + elem + \" element\");\n    }\n\n    // tabindex forces the browser to keep focus on the scrolling list, fixes #11\n    if( ! self.content_elem.hasAttribute('tabindex'))\n      self.content_elem.setAttribute('tabindex', 0);\n\n    // private parameters\n    var rows = isArray(data.rows)\n        ? data.rows\n        : self.fetchMarkup(),\n      cache = {},\n      scroll_top = self.scroll_elem.scrollTop;\n\n    // append initial data\n    self.insertToDOM(rows, cache);\n\n    // restore the scroll position\n    self.scroll_elem.scrollTop = scroll_top;\n\n    // adding scroll handler\n    var last_cluster = false,\n    scroll_debounce = 0,\n    pointer_events_set = false,\n    scrollEv = function() {\n      // fixes scrolling issue on Mac #3\n      if (is_mac) {\n          if( ! pointer_events_set) self.content_elem.style.pointerEvents = 'none';\n          pointer_events_set = true;\n          clearTimeout(scroll_debounce);\n          scroll_debounce = setTimeout(function () {\n              self.content_elem.style.pointerEvents = 'auto';\n              pointer_events_set = false;\n          }, 50);\n      }\n      if (last_cluster != (last_cluster = self.getClusterNum()))\n        self.insertToDOM(rows, cache);\n      if (self.options.callbacks.scrollingProgress)\n        self.options.callbacks.scrollingProgress(self.getScrollProgress());\n    },\n    resize_debounce = 0,\n    resizeEv = function() {\n      clearTimeout(resize_debounce);\n      resize_debounce = setTimeout(self.refresh, 100);\n    }\n    on('scroll', self.scroll_elem, scrollEv);\n    on('resize', window, resizeEv);\n\n    // public methods\n    self.destroy = function(clean) {\n      off('scroll', self.scroll_elem, scrollEv);\n      off('resize', window, resizeEv);\n      self.html((clean ? self.generateEmptyRow() : rows).join(''));\n    }\n    self.refresh = function(force) {\n      if(self.getRowsHeight(rows) || force) self.update(rows);\n    }\n    self.update = function(new_rows) {\n      rows = isArray(new_rows)\n        ? new_rows\n        : [];\n      var scroll_top = self.scroll_elem.scrollTop;\n      // fixes #39\n      if(rows.length * self.options.item_height < scroll_top) {\n        self.scroll_elem.scrollTop = 0;\n        last_cluster = 0;\n      }\n      self.insertToDOM(rows, cache);\n      self.scroll_elem.scrollTop = scroll_top;\n    }\n    self.clear = function() {\n      self.update([]);\n    }\n    self.getRowsAmount = function() {\n      return rows.length;\n    }\n    self.getScrollProgress = function() {\n      return this.options.scroll_top / (rows.length * this.options.item_height) * 100 || 0;\n    }\n\n    var add = function(where, _new_rows) {\n      var new_rows = isArray(_new_rows)\n        ? _new_rows\n        : [];\n      if( ! new_rows.length) return;\n      rows = where == 'append'\n        ? rows.concat(new_rows)\n        : new_rows.concat(rows);\n      self.insertToDOM(rows, cache);\n    }\n    self.append = function(rows) {\n      add('append', rows);\n    }\n    self.prepend = function(rows) {\n      add('prepend', rows);\n    }\n  }\n\n  Clusterize.prototype = {\n    constructor: Clusterize,\n    // fetch existing markup\n    fetchMarkup: function() {\n      var rows = [], rows_nodes = this.getChildNodes(this.content_elem);\n      while (rows_nodes.length) {\n        rows.push(rows_nodes.shift().outerHTML);\n      }\n      return rows;\n    },\n    // get tag name, content tag name, tag height, calc cluster height\n    exploreEnvironment: function(rows, cache) {\n      var opts = this.options;\n      opts.content_tag = this.content_elem.tagName.toLowerCase();\n      if( ! rows.length) return;\n      if(ie && ie <= 9 && ! opts.tag) opts.tag = rows[0].match(/<([^>\\s/]*)/)[1].toLowerCase();\n      if(this.content_elem.children.length <= 1) cache.data = this.html(rows[0] + rows[0] + rows[0]);\n      if( ! opts.tag) opts.tag = this.content_elem.children[0].tagName.toLowerCase();\n      this.getRowsHeight(rows);\n    },\n    getRowsHeight: function(rows) {\n      var opts = this.options,\n        prev_item_height = opts.item_height;\n      opts.cluster_height = 0;\n      if( ! rows.length) return;\n      var nodes = this.content_elem.children;\n      var node = nodes[Math.floor(nodes.length / 2)];\n      opts.item_height = node.offsetHeight;\n      // consider table's border-spacing\n      if(opts.tag == 'tr' && getStyle('borderCollapse', this.content_elem) != 'collapse')\n        opts.item_height += parseInt(getStyle('borderSpacing', this.content_elem), 10) || 0;\n      // consider margins (and margins collapsing)\n      if(opts.tag != 'tr') {\n        var marginTop = parseInt(getStyle('marginTop', node), 10) || 0;\n        var marginBottom = parseInt(getStyle('marginBottom', node), 10) || 0;\n        opts.item_height += Math.max(marginTop, marginBottom);\n      }\n      opts.block_height = opts.item_height * opts.rows_in_block;\n      opts.rows_in_cluster = opts.blocks_in_cluster * opts.rows_in_block;\n      opts.cluster_height = opts.blocks_in_cluster * opts.block_height;\n      return prev_item_height != opts.item_height;\n    },\n    // get current cluster number\n    getClusterNum: function () {\n      this.options.scroll_top = this.scroll_elem.scrollTop;\n      return Math.floor(this.options.scroll_top / (this.options.cluster_height - this.options.block_height)) || 0;\n    },\n    // generate empty row if no data provided\n    generateEmptyRow: function() {\n      var opts = this.options;\n      if( ! opts.tag || ! opts.show_no_data_row) return [];\n      var empty_row = document.createElement(opts.tag),\n        no_data_content = document.createTextNode(opts.no_data_text), td;\n      empty_row.className = opts.no_data_class;\n      if(opts.tag == 'tr') {\n        td = document.createElement('td');\n        // fixes #53\n        td.colSpan = 100;\n        td.appendChild(no_data_content);\n      }\n      empty_row.appendChild(td || no_data_content);\n      return [empty_row.outerHTML];\n    },\n    // generate cluster for current scroll position\n    generate: function (rows, cluster_num) {\n      var opts = this.options,\n        rows_len = rows.length;\n      if (rows_len < opts.rows_in_block) {\n        return {\n          top_offset: 0,\n          bottom_offset: 0,\n          rows_above: 0,\n          rows: rows_len ? rows : this.generateEmptyRow()\n        }\n      }\n      var items_start = Math.max((opts.rows_in_cluster - opts.rows_in_block) * cluster_num, 0),\n        items_end = items_start + opts.rows_in_cluster,\n        top_offset = Math.max(items_start * opts.item_height, 0),\n        bottom_offset = Math.max((rows_len - items_end) * opts.item_height, 0),\n        this_cluster_rows = [],\n        rows_above = items_start;\n      if(top_offset < 1) {\n        rows_above++;\n      }\n      for (var i = items_start; i < items_end; i++) {\n        rows[i] && this_cluster_rows.push(rows[i]);\n      }\n      return {\n        top_offset: top_offset,\n        bottom_offset: bottom_offset,\n        rows_above: rows_above,\n        rows: this_cluster_rows\n      }\n    },\n    renderExtraTag: function(class_name, height) {\n      var tag = document.createElement(this.options.tag),\n        clusterize_prefix = 'clusterize-';\n      tag.className = [clusterize_prefix + 'extra-row', clusterize_prefix + class_name].join(' ');\n      height && (tag.style.height = height + 'px');\n      return tag.outerHTML;\n    },\n    // if necessary verify data changed and insert to DOM\n    insertToDOM: function(rows, cache) {\n      // explore row's height\n      if( ! this.options.cluster_height) {\n        this.exploreEnvironment(rows, cache);\n      }\n      var data = this.generate(rows, this.getClusterNum()),\n        this_cluster_rows = data.rows.join(''),\n        this_cluster_content_changed = this.checkChanges('data', this_cluster_rows, cache),\n        top_offset_changed = this.checkChanges('top', data.top_offset, cache),\n        only_bottom_offset_changed = this.checkChanges('bottom', data.bottom_offset, cache),\n        callbacks = this.options.callbacks,\n        layout = [];\n\n      if(this_cluster_content_changed || top_offset_changed) {\n        if(data.top_offset) {\n          this.options.keep_parity && layout.push(this.renderExtraTag('keep-parity'));\n          layout.push(this.renderExtraTag('top-space', data.top_offset));\n        }\n        layout.push(this_cluster_rows);\n        data.bottom_offset && layout.push(this.renderExtraTag('bottom-space', data.bottom_offset));\n        callbacks.clusterWillChange && callbacks.clusterWillChange();\n        this.html(layout.join(''));\n        this.options.content_tag == 'ol' && this.content_elem.setAttribute('start', data.rows_above);\n        callbacks.clusterChanged && callbacks.clusterChanged();\n      } else if(only_bottom_offset_changed) {\n        this.content_elem.lastChild.style.height = data.bottom_offset + 'px';\n      }\n    },\n    // unfortunately ie <= 9 does not allow to use innerHTML for table elements, so make a workaround\n    html: function(data) {\n      var content_elem = this.content_elem;\n      if(ie && ie <= 9 && this.options.tag == 'tr') {\n        var div = document.createElement('div'), last;\n        div.innerHTML = '<table><tbody>' + data + '</tbody></table>';\n        while((last = content_elem.lastChild)) {\n          content_elem.removeChild(last);\n        }\n        var rows_nodes = this.getChildNodes(div.firstChild.firstChild);\n        while (rows_nodes.length) {\n          content_elem.appendChild(rows_nodes.shift());\n        }\n      } else {\n        content_elem.innerHTML = data;\n      }\n    },\n    getChildNodes: function(tag) {\n        var child_nodes = tag.children, nodes = [];\n        for (var i = 0, ii = child_nodes.length; i < ii; i++) {\n            nodes.push(child_nodes[i]);\n        }\n        return nodes;\n    },\n    checkChanges: function(type, value, cache) {\n      var changed = value != cache[type];\n      cache[type] = value;\n      return changed;\n    }\n  }\n\n  // support functions\n  function on(evt, element, fnc) {\n    return element.addEventListener ? element.addEventListener(evt, fnc, false) : element.attachEvent(\"on\" + evt, fnc);\n  }\n  function off(evt, element, fnc) {\n    return element.removeEventListener ? element.removeEventListener(evt, fnc, false) : element.detachEvent(\"on\" + evt, fnc);\n  }\n  function isArray(arr) {\n    return Object.prototype.toString.call(arr) === '[object Array]';\n  }\n  function getStyle(prop, elem) {\n    return window.getComputedStyle ? window.getComputedStyle(elem)[prop] : elem.currentStyle[prop];\n  }\n\n  return Clusterize;\n}));","// Cluster markers SVG\nconst Symbol = (id, width, height, fill) => {\n\tconst marker_svg = {\n\t\tmarker: {\n\t\t\tp: 'M244.31,0C256.87,2.49,269.59,4.38,282,7.58c35.11,9.1,65.15,27.29,90.44,53.07C401.19,90,419.56,125,427,165.51q12.58,68.25-18.92,130.11Q319.47,469.54,230.64,643.36c-.73,1.42-1.59,2.78-2.79,4.87-1.41-2.43-2.5-4.14-3.42-5.93C165.11,526,104.62,410.27,46.93,293.17,8.94,216.08,18.43,141.32,71.6,74c34-43,80.17-66.6,134.87-72.86A44.62,44.62,0,0,0,211.37,0Z',\n\t\t\tv: '0 0 430.62 648.23'\n\t\t}\n\t};\n\treturn ('data:image/svg+xml;base64,' + window.btoa('<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"' + height + '\" viewBox=\"0 0 430.62 648.23\" width=\"' + width + '\" ><g><path fill=\"' + fill + '\" d=\"' + marker_svg[id].p + '\" /></g></svg>'));\n};\n\nexport default Symbol;","import Symbol from './svgMarker';\n\n// Map options\nconst mapOptions = {\n\tzoom: 4,\n\tcenter: null,\n\tmapTypeId: google.maps.MapTypeId.ROADMAP,\n\tstyles: [\n\t\t{\n\t\t\t\"elementType\": \"labels\",\n\t\t\t\"stylers\": [\n\t\t\t\t{\n\t\t\t\t\t\"visibility\": \"off\"\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"administrative\",\n\t\t\t\"elementType\": \"geometry\",\n\t\t\t\"stylers\": [\n\t\t\t\t{\n\t\t\t\t\t\"visibility\": \"off\"\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"administrative.land_parcel\",\n\t\t\t\"stylers\": [\n\t\t\t\t{\n\t\t\t\t\t\"visibility\": \"off\"\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"administrative.neighborhood\",\n\t\t\t\"stylers\": [\n\t\t\t\t{\n\t\t\t\t\t\"visibility\": \"off\"\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"landscape.man_made\",\n\t\t\t\"stylers\": [\n\t\t\t\t{\n\t\t\t\t\t\"color\": \"#EEEFF1\"\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"landscape.natural\",\n\t\t\t\"stylers\": [\n\t\t\t\t{\n\t\t\t\t\t\"color\": \"#EEEFF1\"\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"landscape.natural.landcover\",\n\t\t\t\"stylers\": [\n\t\t\t\t{\n\t\t\t\t\t\"color\": \"#EEEFF1\"\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"landscape.natural.terrain\",\n\t\t\t\"stylers\": [\n\t\t\t\t{\n\t\t\t\t\t\"color\": \"#EEEFF1\"\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"poi\",\n\t\t\t\"stylers\": [\n\t\t\t\t{\n\t\t\t\t\t\"visibility\": \"off\"\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"road\",\n\t\t\t\"stylers\": [\n\t\t\t\t{\n\t\t\t\t\t\"visibility\": \"off\"\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"road\",\n\t\t\t\"elementType\": \"labels.icon\",\n\t\t\t\"stylers\": [\n\t\t\t\t{\n\t\t\t\t\t\"visibility\": \"off\"\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"transit\",\n\t\t\t\"stylers\": [\n\t\t\t\t{\n\t\t\t\t\t\"visibility\": \"off\"\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"featureType\": \"water\",\n\t\t\t\"stylers\": [\n\t\t\t\t{\n\t\t\t\t\t\"color\": \"#71CAF2\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n};\n\n// Cluster markers style\nconst clusterStyles = [\n\t{\n\t\tanchor: [13, 35],\n\t\ttextColor: 'white',\n\t\ttextSize: '16',\n\t\turl: Symbol('marker', 75, 75, '#f16667'),\n\t\theight: 75,\n\t\twidth: 75,\n\t},\n\t{\n\t\tanchor: [20, 42],\n\t\ttextColor: 'white',\n\t\ttextSize: '18',\n\t\turl: Symbol('marker', 100, 100, '#f16667'),\n\t\theight: 100,\n\t\twidth: 100,\n\t},\n\t{\n\t\tanchor: [20, 43.5],\n\t\ttextColor: 'white',\n\t\ttextSize: '24',\n\t\turl: Symbol('marker', 125, 125, '#f16667'),\n\t\theight: 125,\n\t\twidth: 125,\n\t},\n];\n\n// Cluster options\nconst clusterOptions = {\n\tmaxZoom: 15,\n\tgridSize: 75,\n\tstyles: clusterStyles,\n};\n\n// Set new icon\nconst setIcon = (newIcon) => {\n\ticon = newIcon;\n\treturn icon;\n};\n\nconst addCenterToOptions = (center) => {\n\tmapOptions.center = center;\n};\n\n// Icon\nlet icon = {\n\turl: Symbol('marker', 25, 25, '#f16667'),\n\tsize: new google.maps.Size(71, 71),\n\torigin: new google.maps.Point(0, 0),\n\tanchor: new google.maps.Point(17, 34),\n\tscaledSize: new google.maps.Size(25, 25),\n};\n\nexport {\n\ticon,\n\tmapOptions,\n\tclusterOptions,\n\tsetIcon,\n\taddCenterToOptions,\n};\n","const buildList = (clusterize, listArray, markers, localMap) => {\n\tlistArray = [];\n\tclusterize.clear();\n\tmarkers.map((i) => {\n\t\tif (localMap.getBounds().contains(i.getPosition())) {\n\t\t\tlistArray.push('<tr><td>' + i.userName + '</td><td>' + '<td/><td>' + i.userID + '</td></tr>');\t\n\t\t}\n\t})\n\tclusterize.update(listArray);\n\tclusterize.refresh();\n};\nexport default buildList;","const checkData = (dataset) => {\n\ttry {\n\t\tJSON.stringify(dataset);\n\t\treturn true;\n\t}\n\tcatch(err) {\n\t\tconsole.error('Data is not JSON format!');\n\t\treturn false;\n\t}\n};\nexport default checkData;","import Clusterize from 'clusterize.js';\nimport { icon, clusterOptions } from '../map/options';\nimport buildList from '../buildList/buildList';\nimport checkData from './checkData';\n\n\nconst getData = (map, data, markers) => {\n\tlet localMap = map;\n\tlet listArray = [];\n\tlet localData = typeof data !== 'string' ? '/datasets/' + data.toString() : '/datasets/' + data;\n\t// create list\n\tlet clusterize = new Clusterize({\n\t\trows: null,\n\t\trows_in_block: 5,\n\t\tscrollId: 'scrollArea',\n\t\tcontentId: 'contentArea',\n\t});\n\n\tif (checkData(localData)) {\n\t\tfetch(localData)\n\t\t\t.then((response) => response.json())\n\t\t\t.then((dataset) => {\n\t\t\t\t// add locations\n\t\t\t\t// check for geocoordinates in dataset\n\t\t\t\tdataset.map((markerPosition) => {\n\t\t\t\t\tif (!markerPosition.latitude || !markerPosition.longitude) {\n\t\t\t\t\t\tconsole.log('meh');\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tlet location = new google.maps.LatLng({\n\t\t\t\t\t\t\tlat: markerPosition.latitude, \n\t\t\t\t\t\t\tlng: markerPosition.longitude\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconst marker = new google.maps.Marker({\n\t\t\t\t\t\t\tposition: location,\n\t\t\t\t\t\t\tmap: localMap,\n\t\t\t\t\t\t\ticon: icon,\n\t\t\t\t\t\t\tuserID: markerPosition.user_id,\n\t\t\t\t\t\t\tuserName: markerPosition.full_name,\n\t\t\t\t\t\t\turl: '',\n\t\t\t\t\t\t});\n\t\t\t\t\t\tmarkers.push(marker);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t// create MarkerClusterer\n\t\t\tconst markerCluster = new MarkerClusterer(localMap, markers, clusterOptions);\n\t\t\t// Updates list when viewport changes\n\t\t\tgoogle.maps.event.addListener(localMap, 'bounds_changed', function() {\n\t\t\t\tbuildList(clusterize, listArray, markers, localMap);\n\t\t\t});  \n\t\t})\n\t\t.catch((err) => {\n\t\t\tif (err) throw err;\n\t\t});\n\t}\n};\n\nexport default getData;\n\n\n","import { mapOptions } from './options';\n\nconst createMap = () => new google.maps.Map(document.getElementById('map'), mapOptions);\n\nexport default createMap;\n","const defineCenter = (lat, lng) =>  new google.maps.LatLng(parseFloat(lat).toFixed(6), parseFloat(lng).toFixed(6));\n\nexport default defineCenter;\n","/*eslint-disable */\nimport './map.css';\n\nimport createSearchBox from '../searchBox/createSearchBox';\nimport searchBox from '../searchBox/searchBox';\nimport fetchData from '../fetchData/fetchData';\nimport createMap from './createMap';\nimport defineCenter from './defineCenter';\n// import setGoogleMaps from './setGoogleMaps';\nimport {\n\ticon,\n\tsetIcon,\n\taddCenterToOptions\n} from './options';\n\n// Places markers\nlet placeMarkers = [];\n\n// Places holder\nlet places;\n\n// Markers holder\nlet markers = [];\n\n// Map center\nconst london = defineCenter(51.521723, -0.134581);\naddCenterToOptions(london);\n\n// Map\nconst map = createMap();\n\n// Search Box\nlet sBox = createSearchBox(map);\n\n// const setMaps = (apiKey) => {\n// \tsetGoogleMaps(apiKey);\n// };\n\n\nconst initialize = (data) => {\n\t// fetch dataset\n\tfetchData(map, data, markers);\n\n\t// Create Search Box\n\tsearchBox(map, places, sBox, placeMarkers, icon, setIcon);\n};\n\nconst setHeight = (height) => {\n\tlet list = document.getElementById('list');\n\tlist.style='height:' + height.toString() + ';';\n};\n\nconst setWidth = (width) => {\n\tlet list = document.getElementById('list');\n\tlist.style='width:' + width.toString() + ';';\n};\n\nexport {\n\tinitialize,\n\tsetHeight,\n\tsetWidth\n};\n"],"names":["createSearchBox","map","localMap","input","document","getElementById","controls","google","maps","ControlPosition","TOP_LEFT","push","searchBox","places","SearchBox","sBox","placeMarkers","icon","setIcon","addListener","setBounds","getBounds","getPlaces","length","forEach","marker","setMap","bounds","LatLngBounds","place","geometry","log","newIcon","size","origin","anchor","scaledSize","placeIcon","Marker","name","location","viewport","union","extend","fitBounds","definition","module","ie","v","el","createElement","all","innerHTML","documentMode","is_mac","navigator","platform","toLowerCase","indexOf","Clusterize","data","self","defaults","options","i","option","elems","elem","Error","content_elem","hasAttribute","setAttribute","rows","isArray","fetchMarkup","cache","scroll_top","scroll_elem","scrollTop","insertToDOM","last_cluster","scroll_debounce","pointer_events_set","scrollEv","style","pointerEvents","setTimeout","getClusterNum","callbacks","scrollingProgress","getScrollProgress","resize_debounce","resizeEv","refresh","window","destroy","clean","html","generateEmptyRow","join","force","getRowsHeight","update","new_rows","item_height","clear","getRowsAmount","add","where","_new_rows","concat","append","prepend","prototype","rows_nodes","getChildNodes","shift","outerHTML","opts","content_tag","tagName","tag","match","children","prev_item_height","cluster_height","nodes","node","Math","floor","offsetHeight","getStyle","parseInt","marginTop","marginBottom","max","block_height","rows_in_block","rows_in_cluster","blocks_in_cluster","show_no_data_row","empty_row","no_data_content","createTextNode","no_data_text","td","className","no_data_class","colSpan","appendChild","cluster_num","rows_len","items_start","items_end","top_offset","bottom_offset","this_cluster_rows","rows_above","class_name","height","clusterize_prefix","exploreEnvironment","generate","this_cluster_content_changed","checkChanges","top_offset_changed","only_bottom_offset_changed","layout","keep_parity","renderExtraTag","clusterWillChange","clusterChanged","lastChild","div","last","removeChild","firstChild","child_nodes","ii","type","value","changed","on","evt","element","fnc","addEventListener","attachEvent","off","removeEventListener","detachEvent","arr","Object","toString","call","prop","getComputedStyle","currentStyle","Symbol","id","width","fill","marker_svg","btoa","p","mapOptions","MapTypeId","ROADMAP","clusterStyles","clusterOptions","addCenterToOptions","center","Size","Point","buildList","clusterize","listArray","markers","contains","getPosition","userName","userID","checkData","dataset","stringify","err","error","getData","localData","then","response","json","markerPosition","latitude","longitude","LatLng","user_id","full_name","markerCluster","MarkerClusterer","event","catch","createMap","Map","defineCenter","lat","lng","parseFloat","toFixed","london","initialize","setHeight","list","setWidth"],"mappings":"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"}